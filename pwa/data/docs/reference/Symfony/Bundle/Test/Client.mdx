---
type: Class
---

# [ApiPlatform\Symfony\Bundle\Test\Client](/docs/reference/Symfony/Bundle/Test/Client)

Convenient test client that makes requests to a Kernel object.


```php
class ApiPlatform\Symfony\Bundle\Test\Client implements Symfony\Contracts\HttpClient\HttpClientInterface
{
    public __construct(Symfony\Bundle\FrameworkBundle\KernelBrowser $kernelBrowser, array $defaultOptions)
    public setDefaultOptions(array $defaultOptions): null
    public request(string $method, string $url, array $options): Symfony\Contracts\HttpClient\ResponseInterface
    public stream(Symfony\Contracts\HttpClient\ResponseInterface|Traversable|array $responses, null|float $timeout): Symfony\Contracts\HttpClient\ResponseStreamInterface
    public getResponse(): `<a href="/docs/reference/Symfony/Bundle/Test/Response">ApiPlatform\Symfony\Bundle\Test\Response</a>`
    public getKernelBrowser(): Symfony\Bundle\FrameworkBundle\KernelBrowser
    public getContainer(): Symfony\Component\DependencyInjection\ContainerInterface
    public getCookieJar(): Symfony\Component\BrowserKit\CookieJar
    public getKernel(): Symfony\Component\HttpKernel\KernelInterface
    public getProfile(): Symfony\Component\HttpKernel\Profiler\Profile|false
    public enableProfiler(): null
    public disableReboot(): null
    public enableReboot(): null
    public loginUser(Symfony\Component\Security\Core\User\UserInterface $user, string $firewallContext): `<a href="/docs/reference/Symfony/Bundle/Test/Client">ApiPlatform\Symfony\Bundle\Test\Client</a>`
    public withOptions(array $options): static
}
```
## Methods

### __construct



```php
public __construct(Symfony\Bundle\FrameworkBundle\KernelBrowser $kernelBrowser, array $defaultOptions)
```

#### Parameters

<table><tbody>
<tr><td>kernelBrowser</td><td>Symfony\Bundle\FrameworkBundle\KernelBrowser</td><td></td></tr><tr><td>defaultOptions</td><td>array</td><td>Default options for the requests</td></tr>
</tbody>
</table>

#### See also
- [HttpClientInterface::OPTIONS_DEFAULTS for available options](HttpClientInterface::OPTIONS_DEFAULTS for available options)


### setDefaultOptions

Sets the default options for the requests.

```php
public setDefaultOptions(array $defaultOptions): null
```

#### Parameters

<table><tbody>
<tr><td>defaultOptions</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

null

#### See also
- [HttpClientInterface::OPTIONS_DEFAULTS for available options](HttpClientInterface::OPTIONS_DEFAULTS for available options)


### request

Requests an HTTP resource.Responses MUST be lazy, but their status code MUST be
checked even if none of their public methods are called.Implementations are not required to support all options described above; they can also
support more custom options; but in any case, they MUST throw a TransportExceptionInterface
when an unsupported option is passed.

```php
public request(string $method, string $url, array $options): Symfony\Contracts\HttpClient\ResponseInterface
```

#### Parameters

<table><tbody>
<tr><td>method</td><td>string</td><td></td></tr><tr><td>url</td><td>string</td><td></td></tr><tr><td>options</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

Symfony\Contracts\HttpClient\ResponseInterface

### stream

Yields responses chunk by chunk as they complete.

```php
public stream(Symfony\Contracts\HttpClient\ResponseInterface|Traversable|array $responses, null|float $timeout): Symfony\Contracts\HttpClient\ResponseStreamInterface
```

#### Parameters

<table><tbody>
<tr><td>responses</td><td>Symfony\Contracts\HttpClient\ResponseInterface<br />Traversable<br />array</td><td></td></tr><tr><td>timeout</td><td>float</td><td></td></tr>
</tbody>
</table>

#### Returns

Symfony\Contracts\HttpClient\ResponseStreamInterface

### getResponse

Gets the latest response.

```php
public getResponse(): `<a href="/docs/reference/Symfony/Bundle/Test/Response">ApiPlatform\Symfony\Bundle\Test\Response</a>`
```

#### Returns

`<a href="/docs/reference/Symfony/Bundle/Test/Response">ApiPlatform\Symfony\Bundle\Test\Response</a>`

### getKernelBrowser

Gets the underlying test client.

```php
public getKernelBrowser(): Symfony\Bundle\FrameworkBundle\KernelBrowser
```

#### Returns

Symfony\Bundle\FrameworkBundle\KernelBrowser

### getContainer

Returns the container.

```php
public getContainer(): Symfony\Component\DependencyInjection\ContainerInterface
```

#### Returns

Symfony\Component\DependencyInjection\ContainerInterface

### getCookieJar

Returns the CookieJar instance.

```php
public getCookieJar(): Symfony\Component\BrowserKit\CookieJar
```

#### Returns

Symfony\Component\BrowserKit\CookieJar

### getKernel

Returns the kernel.

```php
public getKernel(): Symfony\Component\HttpKernel\KernelInterface
```

#### Returns

Symfony\Component\HttpKernel\KernelInterface

### getProfile

Gets the profile associated with the current Response.

```php
public getProfile(): Symfony\Component\HttpKernel\Profiler\Profile|false
```

#### Returns

Symfony\Component\HttpKernel\Profiler\Profile<br />false

### enableProfiler

Enables the profiler for the very next request.If the profiler is not enabled, the call to this method does nothing.

```php
public enableProfiler(): null
```

#### Returns

null

### disableReboot

Disables kernel reboot between requests.By default, the Client reboots the Kernel for each request. This method
allows to keep the same kernel across requests.

```php
public disableReboot(): null
```

#### Returns

null

### enableReboot

Enables kernel reboot between requests.

```php
public enableReboot(): null
```

#### Returns

null

### loginUser



```php
public loginUser(Symfony\Component\Security\Core\User\UserInterface $user, string $firewallContext): `<a href="/docs/reference/Symfony/Bundle/Test/Client">ApiPlatform\Symfony\Bundle\Test\Client</a>`
```

#### Parameters

<table><tbody>
<tr><td>user</td><td>Symfony\Component\Security\Core\User\UserInterface</td><td></td></tr><tr><td>firewallContext</td><td>string</td><td></td></tr>
</tbody>
</table>

#### Returns

`<a href="/docs/reference/Symfony/Bundle/Test/Client">ApiPlatform\Symfony\Bundle\Test\Client</a>`

### withOptions



```php
public withOptions(array $options): static
```

#### Parameters

<table><tbody>
<tr><td>options</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

static
